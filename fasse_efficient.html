

<!DOCTYPE html>


<html lang="en" data-content_root="" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>Efficient Resource Utilization on FASSE &#8212; NSAPH Handbook</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=5b4479735964841361fd" rel="stylesheet" />
<link href="_static/styles/bootstrap.css?digest=5b4479735964841361fd" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=5b4479735964841361fd" rel="stylesheet" />

  
  <link href="_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=5b4479735964841361fd" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" href="_static/styles/sphinx-book-theme.css?digest=14f4ca6b54d191a8c7657f6c759bf11a5fb86285" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=5b4479735964841361fd" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=5b4479735964841361fd" />
  <script src="_static/vendor/fontawesome/6.1.2/js/all.min.js?digest=5b4479735964841361fd"></script>

    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <script src="_static/scripts/sphinx-book-theme.js?digest=5a5c038af52cf7bc1a1ec88eea08e6366ee68824"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="_static/sphinx-thebe.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'fasse_efficient';</script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Using RStudio on FASSE" href="rstudio.html" />
    <link rel="prev" title="FASSE and GitHub Project Work" href="fasse_github.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <div id="pst-scroll-pixel-helper"></div>

  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>
    Back to top
  </button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  

<a class="navbar-brand logo" href="intro.html">
  
  
  
  
  
    
    
      
    
    
    <img src="_static/NSAPH_logo.png" class="logo__image only-light" alt="NSAPH Handbook - Home"/>
    <script>document.write(`<img src="_static/NSAPH_logo.png" class="logo__image only-dark" alt="NSAPH Handbook - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item"><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="intro.html">
                    Welcome to the NSAPH Handbook
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Policies and Trainings</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference external" href="https://drive.google.com/file/d/1bnQ0ycSlrGDphc5dvHGrqoyJD4lKrr82/view?usp=sharing">Data/Compute Access Policies</a></li>
<li class="toctree-l1"><a class="reference internal" href="dua.html">Data Usage Policies</a></li>
<li class="toctree-l1"><a class="reference internal" href="trainings.html">Required Trainings</a></li>

</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">User On-Boarding/Off-Boarding Forms</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference external" href="https://forms.gle/USwJDP49XQqToUuB9">On-Boarding Form</a></li>
<li class="toctree-l1"><a class="reference external" href="https://docs.google.com/forms/d/e/1FAIpQLSccxSUt7NclkqTkeltAPzOBn8ttqz4_ZVIp2MbP9Th7Ja0W5Q/viewform">Off-Boarding Form</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Project Management</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="lifecycle.html">NSAPH Research Project Lifecycle</a></li>
<li class="toctree-l1"><a class="reference external" href="https://docs.google.com/forms/d/e/1FAIpQLScNPmdDpoBTizB2r5lb5sNqsl8fA94wqu5lnS6imNJ2nf476w/viewform?usp=sf_link">Project Initiation Form</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Data Management</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="data.html">Data sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="analytic.html">Analytic data sets</a></li>
<li class="toctree-l1"><a class="reference internal" href="lego_data_model.html">LEGO Data Model</a></li>
<li class="toctree-l1"><a class="reference internal" href="mcbs.html">MCBS</a></li>

<li class="toctree-l1"><a class="reference external" href="https://docs.google.com/document/d/1Nu6YG0NTazTW-jgWZgIlszdL1BUbPNCs5wXrPfK5XjM/edit?usp=sharing">Data Mangement Plan Template</a></li>
<li class="toctree-l1"><a class="reference internal" href="dataverse.html">Data Sharing using Harvard Dataverse</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Computing Infrastructure</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="fasse.html">How to work on FASSE</a></li>
<li class="toctree-l1"><a class="reference internal" href="fasse_partitions.html">FASSE Compute Partitions</a></li>
<li class="toctree-l1"><a class="reference internal" href="fasse_github.html">FASSE and GitHub Project Work</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Efficient Resource Utilization on FASSE</a></li>
<li class="toctree-l1"><a class="reference internal" href="rstudio.html">Using RStudio on FASSE</a></li>

<li class="toctree-l1"><a class="reference internal" href="cannon.html">Getting started on CANNON</a></li>
<li class="toctree-l1"><a class="reference internal" href="bashrc.html">.bashrc</a></li>
<li class="toctree-l1"><a class="reference internal" href="vscode.html">VS Code</a></li>
<li class="toctree-l1"><a class="reference internal" href="singularity.html">Singularity</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Reproducibility</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="analysis.html">Introduction to NSAPH GitHub</a></li>

<li class="toctree-l1"><a class="reference internal" href="collaborative.html">Branch-merge workflow on GitHub</a></li>
<li class="toctree-l1"><a class="reference external" href="https://swcarpentry.github.io/git-novice/">Git tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="docs.html">Workflow Documentation</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">DORIEH Database</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="superset.html">NSAPH PostgreSQL Data Platform</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/NSAPH/data-paltform-internal-docs">Data-Platform Internal Docs</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Software</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference external" href="https://nsaph-software.github.io/intro.html">NSAPH Software Website</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">NSAPH Data Science Support Team</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="team.html">The team</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/NSAPH/handbook" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/NSAPH/handbook/issues/new?title=Issue%20on%20page%20%2Ffasse_efficient.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="_sources/fasse_efficient.md" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.md</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Efficient Resource Utilization on FASSE</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#fairshare-policy">Fairshare Policy</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#monitoring-the-jobs-efficiency">Monitoring the Jobs Efficiency</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#best-practices-in-using-fasse">Best Practices in Using FASSE</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="efficient-resource-utilization-on-fasse">
<h1>Efficient Resource Utilization on FASSE<a class="headerlink" href="#efficient-resource-utilization-on-fasse" title="Permalink to this heading">#</a></h1>
<p>As members of our research group, we share the responsibility to ensure that our computational resources on the Slurm cluster are used efficiently. To promote fair and effective use, please take a moment to review the following guidelines on resource requests and usage.</p>
<section id="fairshare-policy">
<h2>Fairshare Policy<a class="headerlink" href="#fairshare-policy" title="Permalink to this heading">#</a></h2>
<p>Fairshare determines the fraction of system resources allocated to users, assigning scores to users based on their resource usage, and establishing priority levels for users based on these scores. Given that FASSE users come from different groups that have different resource needs, Fairshare aims to establish a method for prioritizing job allocation. This allows users who haven’t fully utilized their allocated resources to receive higher priority for their jobs, ensuring that groups that have exceeded their resource allocation do not monopolize the system.</p>
<p>Read more about the Farishare policy <a class="reference external" href="https://docs.rc.fas.harvard.edu/kb/fairshare/">here</a>.</p>
<p>You can check which accounts are associated with your username by running the following command:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sacctmgr<span class="w"> </span>show<span class="w"> </span>assoc<span class="w"> </span><span class="nv">user</span><span class="o">=</span><span class="nv">$USER</span><span class="w"> </span><span class="nv">format</span><span class="o">=</span>account
</pre></div>
</div>
<p>These are all accounts that you can use to submit jobs. Please use the appropriate account when submitting jobs to the cluster.<br />
Each lab has a seperate account, and the fairshare is calculated based on the usage of all users in that account.
You can take a look at the lab’s fairshare using the following command:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sshare<span class="w"> </span>--account<span class="o">=</span>dominici_lab
</pre></div>
</div>
<p>The fairshare score is a number between 0 and 1. According to FASRC documentation:</p>
<ul class="simple">
<li><p><strong>1.0</strong>: Unused. The Account has not initiated any jobs recently.</p></li>
<li><p><strong>1.0 &gt; f &gt; 0.5</strong>: Underutilization. The Account is not fully utilizing their allocated Share.</p></li>
<li><p><strong>0.5</strong>: Average utilization. The Account is utilizing resources exactly in proportion to their allocated Share.</p></li>
<li><p><strong>0.5 &gt; f &gt; 0</strong>: Over-utilization. The Account has exceeded their allocated Share.</p></li>
<li><p><strong>0</strong>: Exhausted Share. The Account has significantly exceeded their allocated Share. However, if there is no competition for resources, their jobs will still be initiated.</p></li>
</ul>
<p>Execute the command below to display a list of the lab’s users by their usage.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sshare<span class="w"> </span>--account<span class="o">=</span>dominici_lab<span class="w"> </span>--all
</pre></div>
</div>
<p>Please note that the fairshare score recovers with time. This happens with attenuting the raw usage based on 3 days halflife. Thus work done in the last 3 days counts at full cost, work done 6 days ago costs half, work done 9 days ago one fourth, and so on. So, if the lab wants to recover the fairshare, they need to stop submitting job for a couple of days. The exact number of days for reaching a taget value can be computed using the <code class="docutils literal notranslate"><span class="pre">scalc</span></code> command.</p>
<ul class="simple">
<li><p>Enter <code class="docutils literal notranslate"><span class="pre">scalc</span></code> and press enter. This will ask the several questions, please responde it as follows:</p>
<ul>
<li><p>Select: 3 and press enter. (<code class="docutils literal notranslate"><span class="pre">3)</span> <span class="pre">Projected</span> <span class="pre">Time</span> <span class="pre">to</span> <span class="pre">Reach</span> <span class="pre">FairShare</span> <span class="pre">Score</span> <span class="pre">Assuming</span> <span class="pre">No</span> <span class="pre">New</span> <span class="pre">Jobs</span></code>)</p></li>
<li><p>Enter <code class="docutils literal notranslate"><span class="pre">dominici_lab</span></code> and press enter.</p></li>
<li><p>Enter traget fairshare (e.g., 0.9)</p></li>
</ul>
</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The fairshare score is determined by the accumulated raw usage specific to your lab, rather than the broader NSAPH group. Every Principal Investigator (PI) oversees their respective lab and maintains an independent fairshare account.</p>
</div>
</section>
<section id="monitoring-the-jobs-efficiency">
<h2>Monitoring the Jobs Efficiency<a class="headerlink" href="#monitoring-the-jobs-efficiency" title="Permalink to this heading">#</a></h2>
<p>It is the responsibility of each lab member to ensure their computations are efficient. Your fair share is calculated based on the resources you request (excluding time), not on the resources actually used. Please consider the following scenario:</p>
<ul class="simple">
<li><p>A request is made for 250 GB of memory and 24 CPU cores for a duration of 10 hours.</p></li>
<li><p>The application consumes 16 GB of memory and 1 CPU core over 1.5 hours.</p></li>
</ul>
<p>Your lab will be charged for:</p>
<ul class="simple">
<li><p>250 GB of Memory, 24 CPU cores for 1.5 hours.</p></li>
</ul>
<p>As you can observe, you won’t be charged for 10 hours; however, your job is likely to receive lower priority due to its extended duration. In this scenario, requesting resources for 2 hours could result in quicker access compared to a 10-hour request.</p>
<p>Each partition node has different unit price. Please read the Trackable RESources(TRES) section of the <a class="reference external" href="https://docs.rc.fas.harvard.edu/kb/fairshare/">Fairshare and Job Accounting</a>.</p>
<p>A direct method to assess the efficiency of a job is to utilize the <code class="docutils literal notranslate"><span class="pre">seff</span></code> command. When the job is completed, run:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>seff<span class="w"> </span>&lt;job<span class="w"> </span>id&gt;
</pre></div>
</div>
<p>This measures your job’s efficiency based on %CPU and %Memory usage compared to the resources requested. Low values indicate an overestimation of needed resources, leading to inefficient resource utilization. This not only depletes resources unnecessarily but also increases wait times for upcoming lab jobs.</p>
<p>Lab moderators can use the <code class="docutils literal notranslate"><span class="pre">sreport</span></code> command to see the usage of the resources by the team in the specific period of time, for example:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sreport<span class="w"> </span>cluster<span class="w"> </span>AccountUtilizationByUser<span class="w"> </span><span class="nv">account</span><span class="o">=</span>dominici_lab<span class="w"> </span><span class="nv">Start</span><span class="o">=</span><span class="m">2024</span>-03-21<span class="w"> </span><span class="nv">End</span><span class="o">=</span><span class="m">2024</span>-03-28
</pre></div>
</div>
</section>
<section id="best-practices-in-using-fasse">
<h2>Best Practices in Using FASSE<a class="headerlink" href="#best-practices-in-using-fasse" title="Permalink to this heading">#</a></h2>
<ul class="simple">
<li><p><strong>FASSE is for L3 data</strong></p>
<ul>
<li><p>Utilize FASSE exclusively for handling sensitive and L3 data. For other computations, such as those involving simulated data, please transition to Cannon.</p></li>
</ul>
</li>
<li><p><strong>Understanding your needs</strong></p>
<ul>
<li><p>Ensure you fully understand the resource requirements of your job before submission.</p></li>
<li><p>Conduct small-scale tests or pilot runs to assess the CPU and memory requirements. For instance:</p>
<ul>
<li><p>For bootstrap analysis, initially run 10 iterations instead of 100. Afterwards, utilize the <code class="docutils literal notranslate"><span class="pre">seff</span> <span class="pre">&lt;job-id&gt;</span></code> command to evaluate job efficiency.</p></li>
</ul>
</li>
</ul>
</li>
<li><p><strong>Monitoring your jobs</strong></p>
<ul>
<li><p>To monitor resource usage in real-time for a running job on a computation node, use <code class="docutils literal notranslate"><span class="pre">ssh</span> <span class="pre">node_name</span></code> followed by <code class="docutils literal notranslate"><span class="pre">htop</span></code>.</p></li>
<li><p>Integrate timing into your code for various segments and opt for logging to review code efficiency more effectively.</p></li>
<li><p>Begin with lower memory allocations if unsure of requirements. Jobs exceeding memory limits will be terminated by SLURM.</p></li>
<li><p>Profile your code’s CPU and memory usage by initiating an interactive session with salloc or through Open OnDemand, then use ssh login_node and htop for real-time performance monitoring.</p>
<ul>
<li><p>More resources for R: <a class="reference external" href="https://adv-r.hadley.nz/perf-measure.html">Measuring Performance</a></p></li>
<li><p>More resources for Python: <a class="reference external" href="https://docs.python.org/3/library/profile.html">The Python Profilers</a></p></li>
</ul>
</li>
</ul>
</li>
<li><p><strong>Array jobs</strong></p>
<ul>
<li><p>If running an array-type job (for example bootstrap or multiple models) consider limiting the maximum number of simultaneous jobs. E.g. <code class="docutils literal notranslate"><span class="pre">--array=1-100%20</span></code> will limit to 20 array jobs running at once.</p></li>
</ul>
</li>
<li><p><strong>Test partitions</strong></p>
<ul>
<li><p>Use the <code class="docutils literal notranslate"><span class="pre">test</span></code> partition for testing the code and profiling activities. It does not affect you fairshare.</p></li>
</ul>
</li>
<li><p><strong>Communication</strong></p>
<ul>
<li><p>If you anticipate a large or unusual resource request, consider discussing it with the group. This can help ensure that your needs are met without adversely impacting others.</p></li>
</ul>
</li>
<li><p><strong>Other resources</strong></p>
<ul>
<li><p>FASSE (and Cannon) documentation provides a wealth of knowledge on best practices and available resources. Familiarize yourself with it to ensure efficient utilization.</p>
<ul>
<li><p>Fairshare documentation: <a class="reference external" href="https://docs.rc.fas.harvard.edu/kb/fairshare/">https://docs.rc.fas.harvard.edu/kb/fairshare/</a></p></li>
<li><p>FASSE partitions: <a class="reference external" href="https://docs.rc.fas.harvard.edu/kb/fasse/#SLURM_and_Partitions">https://docs.rc.fas.harvard.edu/kb/fasse/#SLURM_and_Partitions</a></p></li>
<li><p>SLURM: <a class="reference external" href="https://docs.rc.fas.harvard.edu/kb/running-jobs/">https://docs.rc.fas.harvard.edu/kb/running-jobs/</a></p></li>
</ul>
</li>
</ul>
</li>
</ul>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="fasse_github.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">FASSE and GitHub Project Work</p>
      </div>
    </a>
    <a class="right-next"
       href="rstudio.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Using RStudio on FASSE</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#fairshare-policy">Fairshare Policy</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#monitoring-the-jobs-efficiency">Monitoring the Jobs Efficiency</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#best-practices-in-using-fasse">Best Practices in Using FASSE</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By NSAPH
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2022.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/bootstrap.js?digest=5b4479735964841361fd"></script>
<script src="_static/scripts/pydata-sphinx-theme.js?digest=5b4479735964841361fd"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>